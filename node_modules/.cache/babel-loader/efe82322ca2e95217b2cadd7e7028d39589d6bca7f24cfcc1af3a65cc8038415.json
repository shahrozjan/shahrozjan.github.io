{"ast":null,"code":"import React,{useRef,useState}from'react';import styles from'./Imageshowcase.module.css';import Projects from'../projects/projects';import Stack from'../stack/stack';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ImageShowCase=()=>{const[focusedSection,setFocusedSection]=useState(null);const[focusedURL,setFocusedURL]=useState(null);const[dataMouseDownAt,setDataMouseDownAt]=useState(0);const[dataPrevPercentage,setDataPrevPercentage]=useState(0);const[dataPercentage,setDataPercentage]=useState(0);const[allowClick,setAllowClick]=useState(true);const track=useRef();const focusedimage=useRef();const expandedsection=useRef();const imagearray=[{'section name':'Stack','url':require('../../images/stack.jpg')},{'section name':'Projects','url':require('../../images/projects.jpg')},{'section name':'Services','url':require('../../images/services.jpg')},{'section name':'About Me','url':require('../../images/about.jpg')}];const handleMouseDown=e=>{if(focusedURL)return;const clientX=e.touches?e.touches[0].clientX:e.clientX;setDataMouseDownAt(clientX);};const handleMouseMove=e=>{if(focusedURL)return;if(dataMouseDownAt===0)return;const clientX=e.touches?e.touches[0].clientX:e.clientX;const mouseDelta=parseFloat(dataMouseDownAt)-clientX;const maxDelta=window.innerWidth<600?window.innerWidth*2:window.innerWidth;const percentage=mouseDelta/maxDelta*-100,nextPercentageUnconstrained=parseFloat(dataPrevPercentage)+percentage,nextPercentage=Math.max(Math.min(nextPercentageUnconstrained,0),-100);const images=[...document.querySelectorAll(`.${styles.image}`)];images.map(image=>{image.animate({objectPosition:`${nextPercentage+100}% 50%`},{duration:1200,fill:\"forwards\"});});setDataPercentage(nextPercentage);track.current.animate({transform:`translate(${nextPercentage}%, -50%)`},{duration:1200,fill:\"forwards\"});};const handleMouseUp=()=>{if(focusedURL)return;setDataMouseDownAt(0);setAllowClick(dataPrevPercentage===dataPercentage);setDataPrevPercentage(dataPercentage||0);};const handlesectionclick=(url,name)=>{if(focusedURL)return;if(!allowClick)return;setFocusedURL(url);setFocusedSection(name);console.log(`Focused Section: ${name}`);// Debugging to check if section is clicked\nexpandedsection.current.style.opacity=`1`;expandedsection.current.style.width=`100vw`;expandedsection.current.style.height=`100vh`;setTimeout(()=>{focusedimage.current.classList.add(styles.bluredbg);},500);};const handlesectionexit=e=>{e.stopPropagation();// Prevent the click from closing the expanded section if the content is clicked\nexpandedsection.current.style.opacity=`0`;expandedsection.current.style.width=`0px`;expandedsection.current.style.height=`0px`;focusedimage.current.classList.remove(styles.bluredbg);setTimeout(()=>{setFocusedURL(null);},500);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.parent,onMouseDown:handleMouseDown,onMouseMove:handleMouseMove,onMouseUp:handleMouseUp,onTouchStart:handleMouseDown,onTouchMove:handleMouseMove,onTouchEnd:handleMouseUp,children:[/*#__PURE__*/_jsx(\"div\",{className:`${styles.track}`,ref:track,children:imagearray.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:styles.section,onClick:()=>handlesectionclick(item.url,item['section name']),children:[/*#__PURE__*/_jsx(\"img\",{className:`${styles.image}`,src:item.url,draggable:false,alt:\"gallery images\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.sectionname,children:item['section name']}),/*#__PURE__*/_jsx(\"div\",{className:styles.shadowbox})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:styles.expandedsection,ref:expandedsection,onClick:e=>handlesectionexit(e),children:[/*#__PURE__*/_jsx(\"img\",{className:styles.bgimg,src:focusedURL,ref:focusedimage,alt:\"Background Image\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.expandedcontainer,onClick:e=>e.stopPropagation(),children:[focusedSection==='Stack'&&/*#__PURE__*/_jsx(Stack,{}),focusedSection==='Projects'&&/*#__PURE__*/_jsx(Projects,{}),focusedSection==='Services'&&/*#__PURE__*/_jsx(\"div\",{children:\"Services Content Here\"}),focusedSection==='About Me'&&/*#__PURE__*/_jsx(\"div\",{children:\"About Me Content Here\"})]})]})]});};export default ImageShowCase;","map":{"version":3,"names":["React","useRef","useState","styles","Projects","Stack","jsx","_jsx","jsxs","_jsxs","ImageShowCase","focusedSection","setFocusedSection","focusedURL","setFocusedURL","dataMouseDownAt","setDataMouseDownAt","dataPrevPercentage","setDataPrevPercentage","dataPercentage","setDataPercentage","allowClick","setAllowClick","track","focusedimage","expandedsection","imagearray","require","handleMouseDown","e","clientX","touches","handleMouseMove","mouseDelta","parseFloat","maxDelta","window","innerWidth","percentage","nextPercentageUnconstrained","nextPercentage","Math","max","min","images","document","querySelectorAll","image","map","animate","objectPosition","duration","fill","current","transform","handleMouseUp","handlesectionclick","url","name","console","log","style","opacity","width","height","setTimeout","classList","add","bluredbg","handlesectionexit","stopPropagation","remove","className","parent","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","children","ref","item","index","section","onClick","src","draggable","alt","sectionname","shadowbox","bgimg","expandedcontainer"],"sources":["/Users/shahroz/Desktop/Work/shahrozjan.github.io/src/components/scrollingimageshowcase/Imageshowcase.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport styles from './Imageshowcase.module.css';\nimport Projects from '../projects/projects';\nimport Stack from '../stack/stack';\n\nconst ImageShowCase = () => {\n    const [focusedSection, setFocusedSection] = useState(null);\n    const [focusedURL, setFocusedURL] = useState(null);\n    const [dataMouseDownAt, setDataMouseDownAt] = useState(0);\n    const [dataPrevPercentage, setDataPrevPercentage] = useState(0);\n    const [dataPercentage, setDataPercentage] = useState(0);\n    const [allowClick, setAllowClick] = useState(true);\n\n    const track = useRef();\n    const focusedimage = useRef();\n    const expandedsection = useRef();\n\n    const imagearray = [\n        {\n            'section name': 'Stack',\n            'url': require('../../images/stack.jpg')\n        },\n        {\n            'section name': 'Projects',\n            'url': require('../../images/projects.jpg')\n        },\n        {\n            'section name': 'Services',\n            'url': require('../../images/services.jpg')\n        },\n        {\n            'section name': 'About Me',\n            'url': require('../../images/about.jpg')\n        },\n    ];\n\n    const handleMouseDown = (e) => {\n        if (focusedURL) return;\n        const clientX = e.touches ? e.touches[0].clientX : e.clientX;\n        setDataMouseDownAt(clientX);\n    };\n\n    const handleMouseMove = (e) => {\n        if (focusedURL) return;\n        if (dataMouseDownAt === 0) return;\n        const clientX = e.touches ? e.touches[0].clientX : e.clientX;\n        const mouseDelta = parseFloat(dataMouseDownAt) - clientX;\n        const maxDelta = window.innerWidth < 600 ? window.innerWidth * 2 : window.innerWidth;\n        const percentage = (mouseDelta / maxDelta) * -100,\n            nextPercentageUnconstrained = parseFloat(dataPrevPercentage) + percentage,\n            nextPercentage = Math.max(Math.min(nextPercentageUnconstrained, 0), -100);\n\n        const images = [...document.querySelectorAll(`.${styles.image}`)];\n\n        images.map((image) => {\n            image.animate({\n                objectPosition: `${nextPercentage + 100}% 50%`\n            }, { duration: 1200, fill: \"forwards\" });\n        });\n\n        setDataPercentage(nextPercentage);\n        track.current.animate({\n            transform: `translate(${nextPercentage}%, -50%)`\n        }, { duration: 1200, fill: \"forwards\" });\n    };\n\n    const handleMouseUp = () => {\n        if (focusedURL) return;\n        setDataMouseDownAt(0);\n        setAllowClick(dataPrevPercentage === dataPercentage);\n        setDataPrevPercentage(dataPercentage || 0);\n    };\n\n    const handlesectionclick = (url, name) => {\n        if (focusedURL) return;\n        if (!allowClick) return;\n        setFocusedURL(url);\n        setFocusedSection(name);\n        console.log(`Focused Section: ${name}`); // Debugging to check if section is clicked\n\n        expandedsection.current.style.opacity = `1`;\n        expandedsection.current.style.width = `100vw`;\n        expandedsection.current.style.height = `100vh`;\n\n        setTimeout(() => {\n            focusedimage.current.classList.add(styles.bluredbg);\n        }, 500);\n    };\n\n    const handlesectionexit = (e) => {\n        e.stopPropagation(); // Prevent the click from closing the expanded section if the content is clicked\n        expandedsection.current.style.opacity = `0`;\n        expandedsection.current.style.width = `0px`;\n        expandedsection.current.style.height = `0px`;\n        focusedimage.current.classList.remove(styles.bluredbg);\n        setTimeout(() => {\n            setFocusedURL(null);\n        }, 500);\n    };\n\n    return (\n        <div className={styles.parent}\n            onMouseDown={handleMouseDown}\n            onMouseMove={handleMouseMove}\n            onMouseUp={handleMouseUp}\n            onTouchStart={handleMouseDown}\n            onTouchMove={handleMouseMove}\n            onTouchEnd={handleMouseUp}\n        >\n            <div className={`${styles.track}`} ref={track}>\n                {imagearray.map((item, index) => (\n                    <div className={styles.section} key={index} onClick={() => handlesectionclick(item.url, item['section name'])}>\n                        <img className={`${styles.image}`} src={item.url} draggable={false} alt='gallery images' />\n                        <div className={styles.sectionname}>{item['section name']}</div>\n                        <div className={styles.shadowbox}></div>\n                    </div>\n                ))}\n            </div>\n\n            <div className={styles.expandedsection} ref={expandedsection} onClick={(e) => handlesectionexit(e)}>\n                <img className={styles.bgimg} src={focusedURL} ref={focusedimage} alt='Background Image' />\n                <div className={styles.expandedcontainer} onClick={(e) => e.stopPropagation()}>\n                    {focusedSection === 'Stack' && (\n                        <Stack />\n                    )}\n                    {focusedSection === 'Projects' && (\n                        <Projects />\n                    )}\n                    {focusedSection === 'Services' && (\n                        <div>Services Content Here</div>\n                    )}\n                    {focusedSection === 'About Me' && (\n                        <div>About Me Content Here</div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ImageShowCase;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC/C,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,MAAO,CAAAC,QAAQ,KAAM,sBAAsB,CAC3C,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnC,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACW,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACa,eAAe,CAAEC,kBAAkB,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CACzD,KAAM,CAACe,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAC/D,KAAM,CAACiB,cAAc,CAAEC,iBAAiB,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CACvD,KAAM,CAACmB,UAAU,CAAEC,aAAa,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAElD,KAAM,CAAAqB,KAAK,CAAGtB,MAAM,CAAC,CAAC,CACtB,KAAM,CAAAuB,YAAY,CAAGvB,MAAM,CAAC,CAAC,CAC7B,KAAM,CAAAwB,eAAe,CAAGxB,MAAM,CAAC,CAAC,CAEhC,KAAM,CAAAyB,UAAU,CAAG,CACf,CACI,cAAc,CAAE,OAAO,CACvB,KAAK,CAAEC,OAAO,CAAC,wBAAwB,CAC3C,CAAC,CACD,CACI,cAAc,CAAE,UAAU,CAC1B,KAAK,CAAEA,OAAO,CAAC,2BAA2B,CAC9C,CAAC,CACD,CACI,cAAc,CAAE,UAAU,CAC1B,KAAK,CAAEA,OAAO,CAAC,2BAA2B,CAC9C,CAAC,CACD,CACI,cAAc,CAAE,UAAU,CAC1B,KAAK,CAAEA,OAAO,CAAC,wBAAwB,CAC3C,CAAC,CACJ,CAED,KAAM,CAAAC,eAAe,CAAIC,CAAC,EAAK,CAC3B,GAAIhB,UAAU,CAAE,OAChB,KAAM,CAAAiB,OAAO,CAAGD,CAAC,CAACE,OAAO,CAAGF,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,CAACD,OAAO,CAAGD,CAAC,CAACC,OAAO,CAC5Dd,kBAAkB,CAACc,OAAO,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAE,eAAe,CAAIH,CAAC,EAAK,CAC3B,GAAIhB,UAAU,CAAE,OAChB,GAAIE,eAAe,GAAK,CAAC,CAAE,OAC3B,KAAM,CAAAe,OAAO,CAAGD,CAAC,CAACE,OAAO,CAAGF,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,CAACD,OAAO,CAAGD,CAAC,CAACC,OAAO,CAC5D,KAAM,CAAAG,UAAU,CAAGC,UAAU,CAACnB,eAAe,CAAC,CAAGe,OAAO,CACxD,KAAM,CAAAK,QAAQ,CAAGC,MAAM,CAACC,UAAU,CAAG,GAAG,CAAGD,MAAM,CAACC,UAAU,CAAG,CAAC,CAAGD,MAAM,CAACC,UAAU,CACpF,KAAM,CAAAC,UAAU,CAAIL,UAAU,CAAGE,QAAQ,CAAI,CAAC,GAAG,CAC7CI,2BAA2B,CAAGL,UAAU,CAACjB,kBAAkB,CAAC,CAAGqB,UAAU,CACzEE,cAAc,CAAGC,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACJ,2BAA2B,CAAE,CAAC,CAAC,CAAE,CAAC,GAAG,CAAC,CAE7E,KAAM,CAAAK,MAAM,CAAG,CAAC,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,IAAI3C,MAAM,CAAC4C,KAAK,EAAE,CAAC,CAAC,CAEjEH,MAAM,CAACI,GAAG,CAAED,KAAK,EAAK,CAClBA,KAAK,CAACE,OAAO,CAAC,CACVC,cAAc,CAAE,GAAGV,cAAc,CAAG,GAAG,OAC3C,CAAC,CAAE,CAAEW,QAAQ,CAAE,IAAI,CAAEC,IAAI,CAAE,UAAW,CAAC,CAAC,CAC5C,CAAC,CAAC,CAEFhC,iBAAiB,CAACoB,cAAc,CAAC,CACjCjB,KAAK,CAAC8B,OAAO,CAACJ,OAAO,CAAC,CAClBK,SAAS,CAAE,aAAad,cAAc,UAC1C,CAAC,CAAE,CAAEW,QAAQ,CAAE,IAAI,CAAEC,IAAI,CAAE,UAAW,CAAC,CAAC,CAC5C,CAAC,CAED,KAAM,CAAAG,aAAa,CAAGA,CAAA,GAAM,CACxB,GAAI1C,UAAU,CAAE,OAChBG,kBAAkB,CAAC,CAAC,CAAC,CACrBM,aAAa,CAACL,kBAAkB,GAAKE,cAAc,CAAC,CACpDD,qBAAqB,CAACC,cAAc,EAAI,CAAC,CAAC,CAC9C,CAAC,CAED,KAAM,CAAAqC,kBAAkB,CAAGA,CAACC,GAAG,CAAEC,IAAI,GAAK,CACtC,GAAI7C,UAAU,CAAE,OAChB,GAAI,CAACQ,UAAU,CAAE,OACjBP,aAAa,CAAC2C,GAAG,CAAC,CAClB7C,iBAAiB,CAAC8C,IAAI,CAAC,CACvBC,OAAO,CAACC,GAAG,CAAC,oBAAoBF,IAAI,EAAE,CAAC,CAAE;AAEzCjC,eAAe,CAAC4B,OAAO,CAACQ,KAAK,CAACC,OAAO,CAAG,GAAG,CAC3CrC,eAAe,CAAC4B,OAAO,CAACQ,KAAK,CAACE,KAAK,CAAG,OAAO,CAC7CtC,eAAe,CAAC4B,OAAO,CAACQ,KAAK,CAACG,MAAM,CAAG,OAAO,CAE9CC,UAAU,CAAC,IAAM,CACbzC,YAAY,CAAC6B,OAAO,CAACa,SAAS,CAACC,GAAG,CAAChE,MAAM,CAACiE,QAAQ,CAAC,CACvD,CAAC,CAAE,GAAG,CAAC,CACX,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAIxC,CAAC,EAAK,CAC7BA,CAAC,CAACyC,eAAe,CAAC,CAAC,CAAE;AACrB7C,eAAe,CAAC4B,OAAO,CAACQ,KAAK,CAACC,OAAO,CAAG,GAAG,CAC3CrC,eAAe,CAAC4B,OAAO,CAACQ,KAAK,CAACE,KAAK,CAAG,KAAK,CAC3CtC,eAAe,CAAC4B,OAAO,CAACQ,KAAK,CAACG,MAAM,CAAG,KAAK,CAC5CxC,YAAY,CAAC6B,OAAO,CAACa,SAAS,CAACK,MAAM,CAACpE,MAAM,CAACiE,QAAQ,CAAC,CACtDH,UAAU,CAAC,IAAM,CACbnD,aAAa,CAAC,IAAI,CAAC,CACvB,CAAC,CAAE,GAAG,CAAC,CACX,CAAC,CAED,mBACIL,KAAA,QAAK+D,SAAS,CAAErE,MAAM,CAACsE,MAAO,CAC1BC,WAAW,CAAE9C,eAAgB,CAC7B+C,WAAW,CAAE3C,eAAgB,CAC7B4C,SAAS,CAAErB,aAAc,CACzBsB,YAAY,CAAEjD,eAAgB,CAC9BkD,WAAW,CAAE9C,eAAgB,CAC7B+C,UAAU,CAAExB,aAAc,CAAAyB,QAAA,eAE1BzE,IAAA,QAAKiE,SAAS,CAAE,GAAGrE,MAAM,CAACoB,KAAK,EAAG,CAAC0D,GAAG,CAAE1D,KAAM,CAAAyD,QAAA,CACzCtD,UAAU,CAACsB,GAAG,CAAC,CAACkC,IAAI,CAAEC,KAAK,gBACxB1E,KAAA,QAAK+D,SAAS,CAAErE,MAAM,CAACiF,OAAQ,CAAaC,OAAO,CAAEA,CAAA,GAAM7B,kBAAkB,CAAC0B,IAAI,CAACzB,GAAG,CAAEyB,IAAI,CAAC,cAAc,CAAC,CAAE,CAAAF,QAAA,eAC1GzE,IAAA,QAAKiE,SAAS,CAAE,GAAGrE,MAAM,CAAC4C,KAAK,EAAG,CAACuC,GAAG,CAAEJ,IAAI,CAACzB,GAAI,CAAC8B,SAAS,CAAE,KAAM,CAACC,GAAG,CAAC,gBAAgB,CAAE,CAAC,cAC3FjF,IAAA,QAAKiE,SAAS,CAAErE,MAAM,CAACsF,WAAY,CAAAT,QAAA,CAAEE,IAAI,CAAC,cAAc,CAAC,CAAM,CAAC,cAChE3E,IAAA,QAAKiE,SAAS,CAAErE,MAAM,CAACuF,SAAU,CAAM,CAAC,GAHPP,KAIhC,CACR,CAAC,CACD,CAAC,cAEN1E,KAAA,QAAK+D,SAAS,CAAErE,MAAM,CAACsB,eAAgB,CAACwD,GAAG,CAAExD,eAAgB,CAAC4D,OAAO,CAAGxD,CAAC,EAAKwC,iBAAiB,CAACxC,CAAC,CAAE,CAAAmD,QAAA,eAC/FzE,IAAA,QAAKiE,SAAS,CAAErE,MAAM,CAACwF,KAAM,CAACL,GAAG,CAAEzE,UAAW,CAACoE,GAAG,CAAEzD,YAAa,CAACgE,GAAG,CAAC,kBAAkB,CAAE,CAAC,cAC3F/E,KAAA,QAAK+D,SAAS,CAAErE,MAAM,CAACyF,iBAAkB,CAACP,OAAO,CAAGxD,CAAC,EAAKA,CAAC,CAACyC,eAAe,CAAC,CAAE,CAAAU,QAAA,EACzErE,cAAc,GAAK,OAAO,eACvBJ,IAAA,CAACF,KAAK,GAAE,CACX,CACAM,cAAc,GAAK,UAAU,eAC1BJ,IAAA,CAACH,QAAQ,GAAE,CACd,CACAO,cAAc,GAAK,UAAU,eAC1BJ,IAAA,QAAAyE,QAAA,CAAK,uBAAqB,CAAK,CAClC,CACArE,cAAc,GAAK,UAAU,eAC1BJ,IAAA,QAAAyE,QAAA,CAAK,uBAAqB,CAAK,CAClC,EACA,CAAC,EACL,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAtE,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}